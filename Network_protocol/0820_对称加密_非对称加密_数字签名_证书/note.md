#### 单向散列函数 属于不可逆

####  如何加密解密?
通过 密钥(规则) 将 明文进行加密得到密文
通过 密钥(规则) 将 密文进行解密得到明文

#### 对称加密(Symmetric Encryption): 使用的密钥是相同的, 加密解密使用同一个密钥

常见的对称加密算法有:

- AES（Advanced Encryption Standard）：-- 首选
目前最广泛使用的对称加密算法，支持128位、192位和256位密钥长度，
被广泛应用于各种场景。

- DES（Data Encryption Standard）：
一种较老的对称加密算法，使用56位密钥，由于密钥长度较短，现已被认为不够安全。

- 3DES（Triple DES）：
DES的增强版本，
将DES重复3次所得到的一种密码算法也叫3重DES, 密钥长度有效为168位
三重DES并不是进行三次DES加密(加密->加密->加密)，而是加密->解密->加密(三个密钥不同)
目前还被一些银行等机构使用, 但处理速度不高,安全性逐渐暴露问题
但由于计算效率较低，逐渐被AES取代。

- Blowfish：
一种灵活的对称加密算法，支持32位到448位的可变密钥长度，计算效率较高，
适用于硬件和软件加密。

- Twofish：
Blowfish的后续版本，密钥长度可达256位，设计上比Blowfish更复杂，
具有较高的安全性和灵活性。

- RC4：一种流加密算法，密钥长度可变，曾广泛应用于如SSL/TLS等协议中，
但由于存在多种已知的安全漏洞，现已被逐渐淘汰。

- ChaCha20：一种基于流加密的对称算法，比RC4更安全且速度更快，
被广泛应用于现代加密协议中，如TLS 1.3。



- 对方得有相同的密钥才能解密, 怎么获得?
- 密钥分发问题, 密钥分发需要安全通道, 安全通道需要密钥, 那么如何获得密钥?
在使用对称加密时, 一定会遇到密钥配送问题(窃取)

- 协商、统一好用什么加密算法: AES ...


#### 如何密钥配送问题

因为对称加密需要通信双方使用相同的密钥进行加解密。
因此，如何安全地将密钥配送给通信双方而不被第三方截获或篡改是密钥配送的核心问题。
以下是常见的密钥配送方法：

1. 使用对称加密的预共享密钥（Pre-shared Key, PSK）
方法: 通信双方在建立通信之前通过某种安全的线下方式（如面对面、电话、信使等）共享密钥。
优点: 简单直接，没有公钥加密的复杂性。
缺点: 随着参与者数量的增加，管理和分发密钥变得复杂且不便。
如果密钥被泄露，通信安全性将受到威胁。

2. 使用公钥加密算法进行密钥交换
方法: 在通信过程中，双方使用各自的公钥和私钥通过公钥加密算法（如RSA、Diffie-Hellman、ECDH等）安全地交换对称加密密钥。
RSA: 一方生成一个随机对称密钥，并使用接收方的公钥加密该密钥，接收方使用其私钥解密并获取对称密钥。

Diffie-Hellman (DH): 双方各自生成私钥并交换经过公钥计算的密钥片段，通过各自的私钥和对方的公钥计算出共享的对称密钥。
优点: 无需事先共享密钥，可以在不安全的信道上安全地生成和分发密钥。
缺点: 公钥加密算法计算较为复杂，可能导致通信性能下降。

3. 密钥分发中心（Key Distribution Center, KDC）
方法: 使用一个可信的第三方（密钥分发中心）来生成和分发密钥。通信双方分别与KDC共享密钥，当他们需要通信时，KDC生成一个会话密钥并安全地分发给双方。
优点: 集中管理密钥，简化密钥的分发和管理过程。
缺点: KDC成为系统的单点故障，且需要对KDC的安全性有足够的信任。

4. Kerberos协议
方法: 基于KDC的一个具体实现，Kerberos通过在网络上验证用户身份并分发会话密钥来确保网络通信的安全性。
优点: 提供身份验证的同时解决了密钥分发问题，被广泛应用于企业环境。
缺点: 依赖KDC，如果KDC出现问题或被攻击，整个系统的安全性将受到影响。

5. 使用硬件安全模块（Hardware Security Module, HSM）
方法: 利用专门的硬件设备来生成、存储和管理加密密钥。HSM可以用于加密密钥的生成、存储以及密钥管理操作，确保密钥的安全性。
优点: 提供了物理上的安全性，防止密钥被盗取或篡改。
缺点: 成本较高，实施复杂，需要专门的硬件支持。

6. 量子密钥分发（Quantum Key Distribution, QKD）
方法: 使用量子力学的原理（如量子叠加和量子纠缠）来安全地分发密钥。
任何对量子通信的窃听都会改变量子状态，从而被发现。
优点: 提供了理论上无条件安全的密钥分发方式。
缺点: 技术尚不成熟，且需要特殊的量子通信硬件支持，目前主要处于实验和早期应用阶段。



####  非对称加密(Asymmetric Encryption): 公钥密码中, 加密用的密钥和解密用的密钥是不同的, 加密使用公钥, 解密使用私钥

常见的非对称加密算法有:

- RSA（Rivest–Shamir–Adleman）：-- 首选
目前最广泛使用的非对称加密算法，支持大范围的密钥长度，
特点: 基于大素数分解的难题，支持加密、解密和数字签名。
密钥长度通常为1024位、2048位或更高。
应用: SSL/TLS 协议、电子邮件加密、数字签名等。

- DSA（Digital Signature Algorithm）：

特点: 专为数字签名而设计的算法，基于离散对数问题，不适用于加密，仅用于签名和验证。
应用: 数字签名标准（DSS），常用于验证软件分发和电子文件的真实性。

- Diffie-Hellman（DH）：

特点: 基于离散对数问题，用于安全密钥交换而不是直接加密数据。
广泛用于建立共享密钥的场景。
应用: SSL/TLS 协议中的密钥交换，VPN 等安全通信协议。
ECC（Elliptic Curve Cryptography）：

特点: 基于椭圆曲线的数学问题，提供与 RSA 相同的安全性，但密钥长度更短、性能更高。常用曲线包括 secp256k1、Curve25519。
应用: 移动设备加密、SSL/TLS、区块链（如比特币）、数字签名。

- ElGamal：

特点: 基于离散对数问题的加密算法，支持加密和数字签名。
具有随机性，产生的密文长度比明文长。
应用: PGP（Pretty Good Privacy）中的加密部分，数字签名。

- EdDSA（Edwards-curve Digital Signature Algorithm）：
特点: 基于椭圆曲线的数字签名算法，
采用 Curve25519 和 Curve448 提供高效的签名和验证，优化了性能和安全性。
应用: 数字签名，适用于高性能需求的加密通信。
这些非对称加密算法通过使用一对密钥（公钥和私钥）来实现数据加密和解密，其中公钥用于加密数据或验证签名，私钥用于解密数据或创建签名。
非对称加密算法被广泛用于安全通信、身份验证、数据完整性验证等领域。


#### 混合密码系统
混合密码系统（Hybrid Cryptosystem）是结合对称加密和非对称加密优点的一种加密方案。它利用非对称加密的安全性来保护对称加密的密钥，然后使用对称加密算法进行高效的数据加密。混合密码系统广泛应用于现代加密通信中，如SSL/TLS协议。

混合密码系统的基本原理
密钥生成：

首先，通信的发送方生成一个临时的对称加密密钥（称为会话密钥），该密钥将用于加密实际的消息数据。
会话密钥加密：

发送方使用接收方的公钥对会话密钥进行加密。由于非对称加密适合加密小数据量，这种加密通常仅用于加密会话密钥。
消息加密：

发送方使用生成的会话密钥，通过对称加密算法（如AES、DES等）对消息进行加密。对称加密算法在加密大数据量时非常高效。
密文传输：

发送方将加密后的会话密钥（使用非对称加密）和加密后的消息（使用对称加密）一起发送给接收方。
会话密钥解密：

接收方使用自己的私钥解密会话密钥，从而恢复出对称加密密钥。
消息解密：

接收方使用解密后的会话密钥，通过对称加密算法解密收到的消息，从而恢复出原始的明文数据。
混合密码系统的优点
安全性：通过非对称加密算法安全地传输会话密钥，即使密文被截获，只要私钥不泄露，攻击者也无法解密会话密钥。

高效性：一旦会话密钥被安全地传输，实际的数据加密和解密都通过对称加密算法进行，这样加密和解密过程非常高效，适合大数据量的处理。

灵活性：混合密码系统可以根据需要选择不同的对称和非对称加密算法组合，适应各种安全需求和计算能力。

应用实例
SSL/TLS 协议：

在HTTPS中，服务器和客户端首先通过非对称加密算法（如RSA或ECDHE）交换会话密钥，随后使用对称加密算法（如AES）加密整个会话的通信数据。
PGP（Pretty Good Privacy）：

PGP用于加密电子邮件时，使用混合加密系统。消息内容使用对称加密加密，而对称密钥则使用接收方的公钥加密。
加密文件传输：

在加密文件传输中，文件使用对称加密算法进行加密，生成的会话密钥则通过接收方的公钥加密，并一同传输。


####  数字签名

数字签名是一种利用非对称加密技术实现的安全机制，主要用于验证数据的完整性、真实性和不可否认性。在数字通信中，数字签名确保了消息在传输过程中没有被篡改，并且确认了消息的发送者身份。

数字签名的基本原理
消息摘要（Hash）：

发送方首先对要发送的消息计算消息摘要（Hash），使用的哈希函数通常是SHA-256、SHA-3等。这一过程生成一个固定长度的散列值，无论消息的长度如何，生成的摘要长度是固定的。
消息摘要具有独特性，即使消息发生很小的改变，生成的摘要也会有显著不同。
签名生成：

发送方使用自己的私钥对消息摘要进行加密，从而生成数字签名。由于私钥是保密的，只有消息的发送者才能生成与该公钥对应的签名。
生成的数字签名与原始消息一起发送给接收方。
签名验证：

接收方收到消息和数字签名后，首先使用发送方的公钥对数字签名进行解密，解密结果应当是消息的摘要值。
接收方同时对收到的消息再次计算消息摘要。
如果接收到的消息摘要与解密后的摘要值一致，则验证通过，说明消息在传输过程中未被篡改，并且数字签名确实由持有相应私钥的发送方生成。
数字签名的作用
完整性：

通过消息摘要的比较，数字签名能够检测出消息在传输过程中是否被篡改。如果消息在传输中被修改，即便只是一位，验证时计算的摘要值也会不同，验证会失败。
真实性：

由于只有发送方持有私钥，数字签名可以确认消息确实是由持有私钥的发送方生成的，确保了消息来源的真实性。
不可否认性：

发送方一旦生成并发送了数字签名，之后便无法否认自己发送了该消息。接收方可以使用发送方的公钥验证签名，证明消息确实是由发送方发出的。
数字签名的应用场景
电子邮件安全：

数字签名用于验证电子邮件的发送者身份和内容完整性，防止邮件被篡改或伪造。
软件分发：

软件开发者在发布软件时使用数字签名进行签名，用户在下载软件后可以验证签名，确保软件未被篡改。
数字证书：

数字证书使用数字签名来验证证书的合法性和所有者的身份。SSL/TLS 证书就是一种常见的应用。
电子合同：

数字签名在电子合同中用于签署合同文件，确保签署人身份的真实性并防止合同内容在签署后被篡改。
数字签名的实现算法
RSA：RSA算法不仅可以用于加密，还可以用于数字签名。发送方用私钥加密消息摘要作为签名，接收方用公钥解密验证。

DSA（Digital Signature Algorithm）：专门用于数字签名的算法，产生和验证数字签名。

ECDSA（Elliptic Curve Digital Signature Algorithm）：基于椭圆曲线的数字签名算法，比DSA和RSA更高效，适用于资源受限的设备。



####  证书

证书在信息安全中是一种用于验证身份和建立信任的电子文档。它通常由可信的第三方机构（称为证书颁发机构，CA）签发，用于证明某一实体（如个人、组织、服务器等）的身份，以及该实体的公钥的真实性。

证书的组成部分
持有者信息：

证书包含持有者的相关信息，如持有者的名称、组织、地址等。
公钥：

证书中包含持有者的公钥，公钥用于与私钥配对的加密或解密操作。
证书颁发机构（CA）信息：

证书包含颁发该证书的CA的信息，包括CA的名称和数字签名。
有效期：

证书的有效期是指该证书在特定时间段内是有效的，通常包括起始日期和结束日期。
证书序列号：

每个证书都有一个唯一的序列号，用于标识该证书。
数字签名：

CA使用其私钥对证书内容（如持有者信息、公钥等）进行数字签名，以保证证书内容的真实性和完整性。
证书的工作原理
申请证书：

证书申请者（如网站管理员）向CA提交一份证书签名请求（CSR），其中包含申请者的公钥及身份信息。
证书颁发：

CA验证申请者的身份后，使用自己的私钥对证书中的信息进行数字签名，生成证书。然后，将证书发给申请者。
证书使用：

申请者将证书部署在其服务器或其他服务中，当用户访问该服务时，服务会将证书发送给用户。
验证证书：

用户的客户端（如浏览器）使用CA的公钥验证证书的数字签名，确保证书的真实性。客户端会检查证书的有效期，并验证持有者的信息与预期的一致性。
建立安全连接：

一旦证书验证通过，用户的客户端可以使用证书中的公钥加密信息，安全地与服务器进行通信。
证书的类型
SSL/TLS证书：

用于加密网络通信，如HTTPS协议。SSL/TLS证书可分为域名验证（DV）证书、组织验证（OV）证书和扩展验证（EV）证书。
DV证书：验证域名所有权，颁发速度快。
OV证书：验证域名所有权和组织身份，适合商业网站。
EV证书：提供最高级别的验证，显示绿色地址栏，适合金融、电子商务网站。
代码签名证书：

用于签署软件和应用程序，以确保下载的代码未被篡改，并确认开发者的身份。
客户端证书：

用于验证客户端（如个人用户或设备）的身份，常用于VPN、企业内部网络等。
电子邮件证书：

用于加密电子邮件内容和签名电子邮件，确保电子邮件的机密性和真实性。
根证书和中间证书：

根证书：CA的根证书是整个信任链的基础，由顶级CA自行签名，广泛预安装在操作系统和浏览器中。
中间证书：由根证书签发的证书，用于签发最终用户证书，形成完整的信任链。
证书的管理
证书撤销：

当证书的私钥泄露或证书不再有效时，CA可以撤销证书。撤销的证书会被列入证书撤销列表（CRL）或通过在线证书状态协议（OCSP）查询。
证书更新：

证书到期前，持有者需要向CA申请更新证书，以确保持续的安全性。
证书存储：

证书通常存储在本地的证书库中，操作系统和浏览器会自动管理这些证书，以确保通信的安全性。
证书的应用场景
HTTPS 加密：

网站使用SSL/TLS证书加密通信，确保数据在传输过程中不被窃听或篡改。
软件分发：

开发者使用代码签名证书签署应用程序，用户可以验证软件的来源和完整性。
身份验证：

客户端证书用于在网络访问和企业内部应用中进行身份验证，确保只有授权用户可以访问特定资源。
电子邮件加密：

电子邮件证书用于加密电子邮件和附加数字签名，确保邮件内容的机密性和发送者身份的真实性。






